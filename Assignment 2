import java.io.*;

public class StudentRecordStream {

    // Method to write typed student records
    public static void writeStudentRecords(String filename) {
        try (DataOutputStream dos = new DataOutputStream(new FileOutputStream(filename))) {
            // Record 1
            dos.writeInt(211720070090);               // Student ID
            dos.writeUTF("GOKUL RAM R");              // Name
            dos.writeUTF("Data Streams");             // Topic
            dos.writeUTF("Use DataInputOutputStream"); // Instruction

            // Record 2 (example)
            dos.writeInt(211720070091);
            dos.writeUTF("BUJI");
            dos.writeUTF("Exception Handling");
            dos.writeUTF("Practice try-catch-finally");

            System.out.println("‚úÖ Records written successfully.");
        } catch (IOException e) {
            System.out.println("‚ùå Error writing records: " + e.getMessage());
        }
    }

    // Method to read typed student records
    public static void readStudentRecords(String filename) {
        try (DataInputStream dis = new DataInputStream(new FileInputStream(filename))) {
            while (dis.available() > 0) {
                int id = dis.readInt();
                String name = dis.readUTF();
                String topic = dis.readUTF();
                String instruction = dis.readUTF();

                System.out.println("\nüìò Student Record:");
                System.out.println("ID         : " + id);
                System.out.println("Name       : " + name);
                System.out.println("Topic      : " + topic);
                System.out.println("Instruction: " + instruction);
            }
        } catch (IOException e) {
            System.out.println("‚ùå Error reading records: " + e.getMessage());
        }
    }

    public static void main(String[] args) {
        String file = "student_records.dat";

        writeStudentRecords(file);   // Store records
        readStudentRecords(file);    // Retrieve and display
    }
}